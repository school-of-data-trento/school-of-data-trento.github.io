var parkings={type:"FeatureCollection",generator:"overpass-turbo",copyright:"The data included in this document is from www.openstreetmap.org. The data is made available under ODbL.",timestamp:"2013-12-10T23:09:02Z",features:[{type:"Feature",id:"way/75414523",properties:{"@id":"way/75414523",access:"private",amenity:"parking",parking:"surface",surface:"paved"},geometry:{type:"Polygon",coordinates:[[[11.1241269,46.0661236],[11.1242719,46.0661384],[11.1242652,46.0661703],[11.1244433,46.0661883],[11.1246358,46.0662079],[11.1246401,46.0661875],[11.1247175,46.0661954],[11.1247468,46.0660195],[11.1241504,46.0659811],[11.124139,46.0660582],[11.1241269,46.0661236]]]}},{type:"Feature",id:"way/136757172",properties:{"@id":"way/136757172",access:"private",amenity:"parking",capacity:"3"},geometry:{type:"Polygon",coordinates:[[[11.130807,46.0669012],[11.1307813,46.066871],[11.1308721,46.0668337],[11.1308979,46.0668639],[11.1308582,46.0668802],[11.130807,46.0669012]]]}},{type:"Feature",id:"node/570818498",properties:{"@id":"node/570818498",amenity:"parking",parking:"surface"},geometry:{type:"Point",coordinates:[11.1249101,46.0675104]}},{type:"Feature",id:"node/890486765",properties:{"@id":"node/890486765","addr:city":"Trento","addr:country":"IT","addr:housenumber":"21","addr:postcode":"38122","addr:street":"Piazza Giovanni Battista Garzetti",barrier:"gate"},geometry:{type:"Point",coordinates:[11.124139,46.0660582]}},{type:"Feature",id:"node/991704143",properties:{"@id":"node/991704143",amenity:"parking",parking:"surface"},geometry:{type:"Point",coordinates:[11.1261254,46.066918]}},{type:"Feature",id:"node/1098048308",properties:{"@id":"node/1098048308",amenity:"parking",parking:"surface"},geometry:{type:"Point",coordinates:[11.1245326,46.0657296]}},{type:"Feature",id:"node/1220020677",properties:{"@id":"node/1220020677",entrance:"yes"},geometry:{type:"Point",coordinates:[11.1244433,46.0661883]}},{type:"Feature",id:"node/1369533469",properties:{"@id":"node/1369533469",amenity:"parking",parking:"surface"},geometry:{type:"Point",coordinates:[11.1264464,46.0679926]}}]};var parkingIcon=L.icon({iconUrl:"img/parking_32x32.png",iconSize:[16,16],iconAnchor:[0,0],popupAnchor:[0,-14]});var sdTrentoIcon=L.icon({iconUrl:"img/schoolofdata-logo_48x48.png",iconSize:[32,32],iconAnchor:[0,14],popupAnchor:[0,-14]});var cloudmadeUrl="http://{s}.tile.cloudmade.com/"+"{key}/{styleId}/256/{z}/{x}/{y}.png",cloudmadeAttribution="Map data &copy; 2013 OpenStreetMap contributors, "+"Imagery &copy; 2012 CloudMade",cloudmadeKey="d1127846b6af440e9bed6ac6d7d46d98";var minimal=L.tileLayer(cloudmadeUrl,{styleId:22677,attribution:cloudmadeAttribution,key:cloudmadeKey});var map=L.map("map_canvas",{center:new L.LatLng(46.067423,11.1285657),zoom:17,layers:[minimal],scrollWheelZoom:false});function onEachFeature(feature,layer){var popupContent="<b>Parcheggio pubblico</b><br />";if(feature.properties.name){popupContent+="Nome: "+feature.properties.name}if(feature.geometry.type=="Polygon"){var x=0;var y=0;var numcoord=feature.geometry.coordinates[0].length;for(var c=0;c<numcoord;c++){y+=feature.geometry.coordinates[0][c][0]/numcoord;x+=feature.geometry.coordinates[0][c][1]/numcoord}if(x!==0&&y!==0){return L.marker([x,y],{icon:parkingIcon}).addTo(map).bindPopup(popupContent)}}layer.bindPopup(popupContent)}L.geoJson(parkings,{pointToLayer:function(feature,latlng){return L.marker(latlng,{icon:parkingIcon})},onEachFeature:onEachFeature}).addTo(map);var infocontent="<b>Contamination lab</b><br/>"+"Piazza Venezia, 41<br/>"+"Trento<br/>"+'<a href="http://mapq.st/1e42WFA" title="Mapquest">'+"Direzioni stradali con Mapquest</a> | "+'<a href="http://parking.openstreetmap.de/?zoom=17&lat=46.06689&lon=11.12792&layers=B00FT"'+'title="parking.openstreetmap.de">'+"Mappa dettagliata dei parcheggi</a> | "+'<a href="http://contaminationlabtrento.it/" '+'title="Sito Web">Sito Web</a></div>';L.marker([46.067423,11.1285657],{icon:sdTrentoIcon}).addTo(map).bindPopup(infocontent).openPopup();